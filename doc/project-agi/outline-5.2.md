# Phase 5.2: 会話型NLP拡張計画 (Conversational NLP Extension Plan)

## 関連Issue (Associated Issues)
- [#260](https://github.com/MicrocomputerTechnology/SigmaSenseJp/issues/260): アーキテクチャロードマップ: SigmaSenseの会話型日本語NLP拡張

## 1. 設計目標 (Design Goals)
- SigmaSenseを包括的な会話型日本語自然言語処理（NLP）に対応させ、生の日本語テキストと構造化されたWorldModelとの間のギャップを埋める。
- LLMと記号システムの両方を活用し、より自然で深い日本語理解と応答生成を可能にする。

## 2. 設計概要 (Design Overview)
- **堅牢な日本語NLPフロントエンドの構築:**
  - 形態素解析と品詞（POS）タグ付け（Ginza/MeCabなど）を導入し、日本語テキストの基本的な構造を解析する。
  - 固有名詞やその他のエンティティのための固有表現認識（NER）を実装する。
  - 文法関係のための係り受け解析/構文解析を導入し、文の構造を理解する。
  - 一貫したエンティティ追跡のための共参照解決メカニズムを開発する。

- **WorldModelへの意味マッピングの強化:**
  - `wnjpn.db`やその他の語彙リソースを深く統合し、語彙の意味的情報を活用する。
  - 日本語単語/文埋め込み（Word2Vec, BERTなど）を活用し、微妙な意味的類似性を捉える。
  - LLM駆動のオントロジー/スキーマアライメントを導入し、動的なノード/エッジ作成を可能にする。
  - WorldModelにおいて、動詞（イベント）と形容詞（プロパティ）を適切に表現するスキーマを設計する。

- **会話管理と対話状態追跡:**
  - トピック、意図、エンティティを追跡するための対話状態マネージャーを開発する。
  - 曖昧さ解消のための文脈理解メカニズムを実装する。
  - ターン管理とイニシアチブ管理の機能を導入し、自然な対話の流れを制御する。

- **応答生成のハイブリッド化:**
  - 事実の一貫性を担保するために記号推論を活用し、自然な日本語テキスト生成のためにLLMベースのNLG（Natural Language Generation）を組み合わせる。
  - エージェントのペルソナやスタイルを制御する機能を実装する。

## 3. 主要な課題と検討事項 (Key Challenges & Considerations)
- **日本語特有の難しさ:** 形態素解析の曖昧性、文脈依存性、敬語表現など、日本語特有の課題への対応。
- **LLMと記号システムの統合:** LLMの柔軟性と記号システムの厳密性をどのように効果的に組み合わせるか。
- **パフォーマンスとリソース:** 高度なNLP処理は計算コストが高い。リアルタイム対話における応答速度の最適化。

## 4. 期待される成果 (Expected Outcome)
- SigmaSenseが人間とより自然で深い日本語での会話を行えるようになる。
- 生の日本語テキストから、WorldModelに構造化された知識を効率的に抽出し、またその逆も可能になる。
- 日本語圏におけるAGIとしての存在感を確立する。

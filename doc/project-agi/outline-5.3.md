# Phase 5.3: エージェント間インタラクション設計 (Agent Interaction Design)

## 関連Issue (Associated Issues)
- [#280](https://github.com/MicrocomputerTechnology/SigmaSenseJp/issues/280): 【組織論】認知モジュール間のバッファ導入と知識の活性化モデル実装
- [#272](https://github.com/MicrocomputerTechnology/SigmaSenseJp/issues/272): Orienの役割最適化と「大賢者」機能の強化
- [#271](https://github.com/MicrocomputerTechnology/SigmaSenseJp/issues/271): ミルドの母性機能と臨時メンバー導入能力の実装

## 1. 設計目標 (Design Goals)
- SigmaSenseJpを構成する各認知モジュール（擬人化された仲間たち）間の情報伝達と協調を、人間組織のように効率的かつ柔軟に行えるようにする。
- Orienの役割を最適化し、高次の知性活動に集中させることで、システム全体の知性レベルを向上させる。
- ミルドの母性機能により、パーティの健全な運営と、特殊事案への適応能力を確保する。

## 2. 設計概要 (Design Overview)
- **モジュール間バッファの導入:**
  - ACT-Rの統一認知アーキテクチャの概念を参考に、Orien、Vetra、Aegisなどの各モジュール間に明確なインターフェース（バッファ）を定義する。
  - バッファを介した情報伝達には、情報量の制限や転送速度の制約を含むプロトコルを確立し、組織的な協調性と管理性を向上させる。

- **知識の活性化モデルの実装:**
  - `PocketLibrary` (#155) 内の知識に対し、利用頻度と経過時間に基づいて活性化レベルを付与する。このレベルが知識の「思い出しやすさ」や「アクセス優先度」を決定する。
  - 活性化レベルの高い知識を優先的に参照することで、人間的な連想や記憶の引き出しを再現し、対話の自然さを高める。

- **Orienの役割最適化:**
  - Orienを、バッファを介して情報を受け取る中枢モジュールとして再定義し、知識統合、遍在調和、戦略的洞察といった高次の知性活動に専念させる。
  - ミルドに管理業務（グループ編成、労り、叱咤、仲直り、視野拡大、臨時メンバー導入）を委譲し、Orienの負担を軽減する。

- **ミルドの母性機能と臨時メンバー導入能力の実装:**
  - `src/mild_mother.py` に、パーティの特性（能力、負荷、相性、多様性）を洞察し、労り、叱咤、仲直り、視野拡大、グループ編成を最適化する母性機能を実装する。
  - `src/mild_insight.py` に、特殊事案（例：大規模災害、倫理的ジレンマ）に対応するため、ミルドの子供達や外部専門家を臨時メンバーとしてパーティに動的に組み込む機能（`external_members`データベースの活用）を実装する。

## 3. 主要な課題と検討事項 (Key Challenges & Considerations)
- **バッファ設計の粒度:** どのレベルでバッファを導入し、どのような情報制約を設けるか。過度な制約は情報伝達のボトルネックとなる可能性がある。
- **活性化モデルのチューニング:** 知識の活性化レベルを決定するパラメータ（利用頻度、経過時間）の最適なバランスを見つける。
- **Orienとミルドの連携:** 役割分担が明確である一方で、両者の間で情報がスムーズに流れ、協調が損なわれないようにする。

## 4. 期待される成果 (Expected Outcome)
- SigmaSenseJpの各モジュールが、より効率的かつ人間らしい協調性を持って機能する。
- Orienが高次の知性活動に集中することで、システム全体の戦略的判断能力が向上する。
- ミルドの介入により、パーティの健全性が保たれ、予期せぬ事態への適応能力が高まる。
